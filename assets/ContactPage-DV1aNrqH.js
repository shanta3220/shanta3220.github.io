import{r as l,j as s,m as h}from"./index-CpIhTqbw.js";import{g as _}from"./utils-BDDBQU77.js";const c={_origin:"https://api.emailjs.com"},v=(t,e="https://api.emailjs.com")=>{c._userID=t,c._origin=e},g=(t,e,i)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class x{constructor(e){this.status=e.status,this.text=e.responseText}}const j=(t,e,i={})=>new Promise((o,n)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:r})=>{const m=new x(r);m.status===200||m.text==="OK"?o(m):n(m)}),a.addEventListener("error",({target:r})=>{n(new x(r))}),a.open("POST",c._origin+t,!0),Object.keys(i).forEach(r=>{a.setRequestHeader(r,i[r])}),a.send(e)}),N=(t,e,i,o)=>{const n=o||c._userID;return g(n,t,e),j("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:n,service_id:t,template_id:e,template_params:i}),{"Content-type":"application/json"})},R=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},F=(t,e,i,o)=>{const n=o||c._userID,a=R(i);g(n,t,e);const r=new FormData(a);return r.append("lib_version","3.2.0"),r.append("service_id",t),r.append("template_id",e),r.append("user_id",n),j("/api/v1.0/email/send-form",r)},S={init:v,send:N,sendForm:F},w=()=>{const t=l.useRef(),e=l.useRef(),i=l.useRef(),o=l.useRef(),[n,a]=l.useState({submitted:!1,error:null}),r=d=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d),m=d=>{d.preventDefault();const p=e.current.value.trim(),f=i.current.value.trim(),b=o.current.value.trim();if(!p||!f||!b){a({submitted:!1,error:"All fields are required."});return}if(!r(f)){a({submitted:!1,error:"Please enter a valid email address."});return}S.sendForm("service_qecoawp","template_3e57u4n",t.current,"51l9z08X9IGgHKCLC").then(u=>{console.log("Email sent:",u.text),a({submitted:!0,error:null}),t.current.reset()},u=>{console.error("Email failed:",u.text),a({submitted:!1,error:"Failed to send message. Please try again later."})})};return s.jsxs(h.div,{className:"contact",..._(0,.8),children:[s.jsx("h1",{className:"contact__title",children:"Get in Touch"}),s.jsx("p",{className:"contact__subtitle",children:"Have a project in mind? Feel free to reach out, and let's create something amazing!"}),s.jsxs(h.form,{..._(.2,.7),ref:t,className:"contact__form",onSubmit:m,children:[s.jsx("input",{type:"hidden",name:"to_name",value:"Recipient Name"}),s.jsxs("div",{className:"contact__form-group",children:[s.jsx("label",{htmlFor:"name",children:"Name"}),s.jsx("input",{type:"text",id:"name",ref:e,name:"from_name",placeholder:"Your Name"})]}),s.jsxs("div",{className:"contact__form-group",children:[s.jsx("label",{htmlFor:"email",children:"Email"}),s.jsx("input",{type:"email",id:"email",ref:i,name:"user_email",placeholder:"Your Email"})]}),s.jsxs("div",{className:"contact__form-group",children:[s.jsx("label",{htmlFor:"message",children:"Message"}),s.jsx("textarea",{id:"message",ref:o,name:"message",placeholder:"Your Message"})]}),s.jsx("button",{type:"submit",className:"contact__submit",children:"Send Message"}),n.error&&s.jsx("p",{className:"contact__error",children:n.error}),n.submitted&&s.jsx("p",{className:"contact__success",children:"Message sent successfully!"})]})]})};export{w as default};
